# 用戶體驗完整流程指南
# Complete User Journey Guide

**Looper HQ - Nexus Platform → Legal Case Agency**  
**日期**: 2026-02-06  
**體驗時間**: 約 15-20 分鐘

---

## 🎯 體驗目標

以客戶（律師事務所）的角度，從零開始體驗完整的產品旅程：
1. **發現** - 登陸頁了解產品
2. **註冊** - 建立帳號
3. **登入** - 進入系統
4. **探索** - 了解各項功能
5. **使用** - 實際操作核心功能

---

## 📋 前置準備（已完成檢查）

### 系統狀態
```bash
✅ 套件安裝:     npm install (完成)
✅ 資料庫設定:   PostgreSQL + Prisma
✅ 測試通過:     69/69 tests (100%)
✅ 開發伺服器:   準備啟動
```

### 啟動系統

#### 選項 A: 快速啟動（使用現有資料）
```bash
# 1. 啟動開發伺服器
npm run dev

# 伺服器將在 http://localhost:3000 啟動
```

#### 選項 B: 完整重置（全新體驗）
```bash
# 1. 重置資料庫並載入範例資料
npm run db:setup

# 2. 啟動開發伺服器
npm run dev
```

---

## 🚀 完整用戶旅程

### 階段 1: 登陸頁體驗 (2-3 分鐘)

**URL**: `http://localhost:3000`

#### 您會看到：

**🎬 Hero Section (英雄區域)**
- 沉浸式背景影片（法律主題）
- 主標題：
  - 繁中：「法律事務智能資料庫」
  - English: "Hong Kong Legal Intelligence Platform"
- 副標題：「AI 集成搜尋分析」
- 產品描述

**🎨 設計風格**
- 深色專業背景
- 金色/藍色強調色
- 玻璃擬態效果（Glass Morphism）
- 響應式設計（手機/平板/桌面）

**🔘 主要 CTA (Call-to-Action)**
```
┌─────────────────────────────┐
│  🟦 14天免費試用             │  → 跳轉註冊頁面
└─────────────────────────────┘
┌─────────────────────────────┐
│  ⬜ 登入                     │  → 跳轉登入頁面
└─────────────────────────────┘
```

#### 向下捲動探索：

**📊 功能特色區塊**
1. **AI 智能搜尋**
   - 圖示：🤖
   - 說明：整合 HKLii、司法機構、法律資料庫
   
2. **案件管理**
   - 圖示：📁
   - 說明：完整的案件生命週期管理

3. **客戶關係管理**
   - 圖示：👥
   - 說明：集中管理客戶資訊

4. **文件管理**
   - 圖示：📄
   - 說明：安全的文件儲存與版本控制

5. **時間追蹤**
   - 圖示：⏱️
   - 說明：精確記錄計費時數

6. **發票管理**
   - 圖示：💰
   - 說明：自動化帳單生成

**💎 方案定價**
- 免費版：基礎功能
- 專業版：$XXX/月
- 企業版：客製化方案

**📞 頁尾資訊**
- 聯絡方式
- 社交媒體連結
- 法律聲明

---

### 階段 2: 註冊流程 (3-5 分鐘)

**URL**: `http://localhost:3000/signup` 或 `http://localhost:3000/zh/signup`

#### 註冊表單欄位

```typescript
┌─────────────────────────────────────┐
│ 基本資訊                             │
├─────────────────────────────────────┤
│ 姓名 *                               │
│ [輸入您的全名]                       │
│                                     │
│ 電子郵件 *                           │
│ [your.email@example.com]            │
│                                     │
│ 密碼 *                               │
│ [••••••••]                          │
│ ℹ️ 至少 8 字元，包含大小寫、數字、特殊符號 │
│                                     │
│ 事務所資訊                           │
│ [事務所名稱]                         │
│                                     │
│ 語言偏好                             │
│ ○ 繁體中文  ○ English              │
│                                     │
│ ☐ 我同意服務條款與隱私政策            │
│                                     │
│ [      建立帳號      ]               │
└─────────────────────────────────────┘
```

#### 驗證規則

⚠️ **密碼要求**：
- ✅ 最少 8 個字元
- ✅ 至少一個大寫字母 (A-Z)
- ✅ 至少一個小寫字母 (a-z)
- ✅ 至少一個數字 (0-9)
- ✅ 至少一個特殊符號 (!@#$%^&*)

📧 **Email 驗證**：
- 標準 email 格式
- 檢查是否已註冊

#### 註冊成功後

```
✅ 註冊成功！
→ 自動導向登入頁面
→ 顯示歡迎訊息
```

---

### 階段 3: 登入體驗 (1-2 分鐘)

**URL**: `http://localhost:3000/login` 或 `http://localhost:3000/zh/login`

#### 登入表單

```typescript
┌─────────────────────────────────────┐
│ 歡迎回來                             │
├─────────────────────────────────────┤
│ 電子郵件                             │
│ [your.email@example.com]            │
│                                     │
│ 密碼                                 │
│ [••••••••]                          │
│                                     │
│ ☐ 記住我                             │
│                                     │
│ [      登入      ]                   │
│                                     │
│ 忘記密碼？                           │
│                                     │
│ ────────── 或 ──────────            │
│                                     │
│ [ 🔵 使用 Google 登入 ]              │
└─────────────────────────────────────┘
```

#### Demo 測試帳號

如果您執行了 `npm run db:setup`，可以使用以下測試帳號：

```bash
事務所管理員（OWNER）
Email:    owner@wonglaw.hk
Password: demo123456

律師（LAWYER）
Email:    lawyer@wonglaw.hk
Password: demo123456

職員（STAFF）
Email:    staff@wonglaw.hk
Password: demo123456
```

#### 安全機制

🔒 **帳號鎖定保護**：
- 3 次登入失敗 → 帳號鎖定 30 分鐘
- 顯示清楚的錯誤訊息

---

### 階段 4: 儀表板首頁 (5-10 分鐘)

**登入成功後自動導向**: `http://localhost:3000/dashboard`

#### 儀表板佈局

```
┌────────────────────────────────────────────────────────┐
│ [Logo] Legal Case Agency        [語言] [通知] [個人] │
├──────────┬─────────────────────────────────────────────┤
│          │  📊 儀表板總覽                               │
│ 📁 案件   │                                             │
│ 👥 客戶   │  ┌──────────┬──────────┬──────────┐        │
│ 📄 文件   │  │ 活躍案件  │ 待處理   │ 本月新增  │        │
│ ⏱️ 時間   │  │   12     │    5     │    3     │        │
│ 💰 帳單   │  └──────────┴──────────┴──────────┘        │
│ 🔍 搜尋   │                                             │
│ ⚙️ 設定   │  最近案件                                    │
│          │  ┌─────────────────────────────────┐        │
│          │  │ HCA-2026-001 │ 民事訴訟 │ 進行中 │        │
│          │  │ HCA-2026-002 │ 刑事辯護 │ 準備中 │        │
│          │  └─────────────────────────────────┘        │
└──────────┴─────────────────────────────────────────────┘
```

#### 統計卡片

**案件統計**
- 📊 總案件數
- ✅ 活躍案件
- ⏸️ 待處理
- ✔️ 已完成
- 📁 已歸檔

**客戶統計**
- 👥 總客戶數
- 🆕 本月新增
- ⭐ VIP 客戶

**財務統計**
- 💰 本月收入
- 📈 應收帳款
- 📉 逾期帳單

---

### 階段 5: 核心功能探索

#### 5.1 案件管理 📁

**URL**: `http://localhost:3000/cases`

**功能清單**：

```
🔍 搜尋與篩選
├─ 關鍵字搜尋（檔案編號、標題、法院參考編號）
├─ 狀態篩選（活躍/待處理/完成/歸檔）
├─ 類別篩選（民事/刑事/公司/家庭等）
└─ 日期範圍篩選

📊 案件列表
┌────────────────────────────────────────────────┐
│ 檔案編號    │ 標題      │ 客戶    │ 狀態 │ 動作 │
├────────────────────────────────────────────────┤
│ HCA-2026-001│ 商業糾紛  │ 陳先生  │ 活躍 │ ︙  │
│ HCA-2026-002│ 離婚案件  │ 李女士  │ 待處理│ ︙  │
└────────────────────────────────────────────────┘

➕ 新增檔案
```

**新增檔案流程**：

1. 點擊「➕ 新增檔案」
2. 填寫表單：
   ```
   基本資訊
   - 標題 *
   - 類別 * (下拉選單)
   - 狀態 (預設：待處理)
   - 描述
   
   案件編號
   - 檔案編號: HCA-2026-XXX (自動生成) ℹ️
   - 法院案件編號 (選填，由法院分配)
   
   關聯資訊
   - 客戶 * (搜尋選擇)
   - 負責律師 (選填)
   
   重要日期
   - 立案日期
   - 預計結案日期
   
   財務
   - 預估預算
   - 實際成本
   ```

3. 儲存後自動生成檔案編號：`HCA-2026-003`

⚠️ **重要**：系統生成的是「檔案編號」(File Number)，用於內部管理。真正的「案件編號」(Court Case Number) 由香港司法機構分配，需手動輸入。詳見 [法律合規說明](docs/LEGAL_COMPLIANCE_FILE_NUMBER.md)。

**案件詳情頁**：

點擊任一案件進入詳情：

```
┌─────────────────────────────────────────┐
│ ← 返回列表                               │
├─────────────────────────────────────────┤
│ HCA-2026-001: 商業合約糾紛               │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                         │
│ 📋 標籤頁導航                            │
│ ┌───────┬────────┬────────┬────────┐   │
│ │ 概覽  │ 文件   │ 時間記錄│ 帳單  │   │
│ └───────┴────────┴────────┴────────┘   │
│                                         │
│ 基本資訊                                 │
│ 檔案編號:     HCA-2026-001              │
│ 法院編號:     HCCC 123/2023             │
│ 客戶:         陳大文                     │
│ 負責律師:     王律師                     │
│ 狀態:         🟢 進行中                  │
│ 類別:         民事訴訟                   │
│                                         │
│ 時間軸                                   │
│ 2026-01-15  立案                        │
│ 2026-02-01  首次聽證                    │
│ 2026-02-06  提交文件                    │
│                                         │
│ [編輯案件] [新增文件] [記錄時間]         │
└─────────────────────────────────────────┘
```

---

#### 5.2 客戶管理 👥

**URL**: `http://localhost:3000/clients`

**功能清單**：

```
🔍 客戶搜尋
├─ 姓名搜尋
├─ Email 搜尋
└─ 電話搜尋

📊 客戶列表
┌──────────────────────────────────────────┐
│ 姓名    │ Email         │ 電話      │ 動作│
├──────────────────────────────────────────┤
│ 陳大文  │ chen@ex.com   │ 9123 4567 │ ︙ │
│ 李小明  │ li@ex.com     │ 9234 5678 │ ︙ │
└──────────────────────────────────────────┘

➕ 新增客戶
```

**新增客戶表單**：

```typescript
個人資訊
├─ 姓 *
├─ 名 *
├─ Email (選填)
├─ 電話 *
├─ 備用電話
├─ 地址
└─ 身份證號碼

職業資訊
├─ 職業
├─ 公司名稱
└─ 備註
```

**客戶詳情**：

```
┌─────────────────────────────────────────┐
│ 陳大文 先生                              │
├─────────────────────────────────────────┤
│ 📞 聯絡資訊                              │
│ Email:    chen@example.com              │
│ 電話:     +852 9123 4567                │
│ 地址:     香港中環...                    │
│                                         │
│ 📁 相關案件 (3)                          │
│ - HCA-2026-001: 商業合約糾紛             │
│ - HCA-2025-088: 物業買賣                 │
│ - HCA-2025-045: 公司註冊                 │
│                                         │
│ 💰 財務總覽                              │
│ 總帳單:     HK$ 150,000                 │
│ 已付款:     HK$ 100,000                 │
│ 待付款:     HK$  50,000                 │
└─────────────────────────────────────────┘
```

---

#### 5.3 公開案件搜尋 🔍

**URL**: `http://localhost:3000/public-search`

**核心功能** - AI 智能搜尋香港法律判例：

```
┌─────────────────────────────────────────┐
│ 🔍 搜尋香港法律判例                      │
├─────────────────────────────────────────┤
│ [搜尋關鍵字或案件編號...]        [搜尋] │
│                                         │
│ 篩選條件                                 │
│ 來源: ☐ 司法機構 ☐ HKLii ☐ 法律新聞    │
│ 法院: [全部法院 ▼]                      │
│ 類別: [全部類別 ▼]                      │
│ 日期: [2020-01-01] - [2026-02-06]      │
│                                         │
│ 搜尋結果 (125)                           │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                         │
│ 📄 HCCC 123/2023 - 商業合約糾紛          │
│    法院: 高等法院                        │
│    法官: 張法官                          │
│    日期: 2023-05-15                     │
│    摘要: 關於商業合約違約的判決...        │
│    [查看詳情] [加入案件] [下載]          │
│                                         │
│ 📄 DCCC 456/2022 - 勞資糾紛              │
│    ...                                  │
└─────────────────────────────────────────┘
```

**智能功能**：
- 🤖 AI 語義搜尋
- 🔗 自動案件編號連結
- 📊 判例分析
- 📥 匯出 PDF/Word

---

#### 5.4 文件管理 📄

**URL**: `http://localhost:3000/cases/[id]` (文件標籤頁)

```
文件庫
├─ 合約 (3)
├─ 證據 (5)
├─ 法庭文件 (2)
└─ 往來信件 (8)

➕ 上傳文件
┌─────────────────────────────┐
│ 拖放文件或點擊上傳            │
│                             │
│ 文件類型: [合約 ▼]           │
│ 標題: [________________]    │
│ 描述: [________________]    │
│                             │
│ [上傳]                      │
└─────────────────────────────┘
```

---

#### 5.5 時間追蹤 ⏱️

**功能**：記錄計費時數

```
新增時間記錄
├─ 日期 *
├─ 時數 * (小時)
├─ 描述 * (工作內容)
├─ 時薪 * (HK$)
├─ ☑️ 可計費
└─ 關聯案件 *

[儲存]
```

**時間報表**：
- 📊 按案件統計
- 📈 按律師統計
- 💰 計費 vs 非計費時數

---

#### 5.6 發票管理 💰

**URL**: `http://localhost:3000/invoices`

```
發票列表
┌───────────────────────────────────────┐
│ 編號      │ 客戶    │ 金額      │ 狀態 │
├───────────────────────────────────────┤
│ INV-001   │ 陳先生  │ $50,000   │ 已付 │
│ INV-002   │ 李女士  │ $30,000   │ 逾期 │
└───────────────────────────────────────┘

➕ 建立發票
```

**自動功能**：
- ✨ 從時間記錄自動生成
- 📧 Email 發送
- 💳 付款追蹤

---

### 階段 6: 個人設定 ⚙️

**URL**: `http://localhost:3000/settings`

```
個人資料
├─ 姓名
├─ Email
├─ 語言偏好
└─ 時區

事務所設定 (僅管理員)
├─ 事務所名稱
├─ 聯絡資訊
├─ 訂閱方案
└─ 計費設定

安全性
├─ 修改密碼
├─ 雙因素認證
└─ 登入記錄
```

---

## 🎓 完整體驗檢查清單

完成以下項目，您就完整體驗了整個系統：

### 基礎流程
- [ ] 瀏覽登陸頁，了解產品特色
- [ ] 完成註冊流程
- [ ] 使用新帳號或 demo 帳號登入
- [ ] 瀏覽儀表板總覽

### 案件管理
- [ ] 查看現有案件列表
- [ ] 新增個案檔案（內部管理用）
- [ ] 查看案件詳情
- [ ] 編輯案件資訊

### 客戶管理
- [ ] 瀏覽客戶列表
- [ ] 新增一位客戶
- [ ] 查看客戶詳情與相關案件

### 搜尋功能
- [ ] 使用公開案件搜尋
- [ ] 嘗試不同的篩選條件
- [ ] 查看判例詳情

### 文件與時間
- [ ] 查看案件文件
- [ ] 新增時間記錄
- [ ] 查看時間報表

### 系統設定
- [ ] 更新個人資料
- [ ] 切換語言 (中/英)
- [ ] 查看事務所設定

---

## 💡 體驗小貼士

### 測試資料
執行 `npm run db:setup` 後，系統會載入：
- ✅ 1 個示範事務所（Wong & Associates）
- ✅ 3 個測試用戶（owner/lawyer/staff）
- ✅ 5 個範例案件
- ✅ 8 個範例客戶
- ✅ 多筆時間記錄與文件

### 語言切換
- 🌐 URL: `/en/...` (English)
- 🌐 URL: `/zh/...` (繁體中文)
- 🌐 URL: `/` (預設中文)

### 權限測試
不同角色有不同權限：

| 功能 | OWNER | LAWYER | STAFF |
|------|-------|--------|-------|
| 查看案件 | ✅ 全部 | ✅ 自己的 | ✅ 全部 |
| 新增檔案 | ✅ | ✅ | ✅ |
| 刪除案件 | ✅ | ❌ | ❌ |
| 管理用戶 | ✅ | ❌ | ❌ |
| 事務所設定 | ✅ | ❌ | ❌ |
| 財務報表 | ✅ | ⚠️ 有限 | ❌ |

### 快捷鍵（規劃中）
- `Ctrl/Cmd + K` - 快速搜尋
- `Ctrl/Cmd + N` - 新增案件
- `Ctrl/Cmd + ,` - 設定

---

## 🐛 常見問題

### Q1: 無法登入？
**A**: 確認：
1. Email 格式正確
2. 密碼符合規則
3. 未超過 3 次登入失敗（等待 30 分鐘）
4. 使用正確的 demo 帳號

### Q2: 看不到資料？
**A**: 執行 `npm run db:setup` 載入範例資料

### Q3: 頁面顯示錯誤？
**A**: 檢查：
1. 開發伺服器是否運行 (`npm run dev`)
2. 資料庫連線是否正常（檢查 `.env`）
3. Console 錯誤訊息

### Q4: 檔案編號如何生成？
**A**: 系統自動生成格式 `HCA-YYYY-NNN`，這是內部檔案編號。正式的法院案件編號需手動輸入。詳見 [法律合規說明](docs/LEGAL_COMPLIANCE_FILE_NUMBER.md)。

### Q5: 如何重置密碼？
**A**: 目前使用 demo 環境，直接使用 `demo123456`。生產環境會有完整的重置密碼功能。

---

## 📊 效能基準

| 操作 | 預期時間 |
|------|---------|
| 頁面載入 | < 2 秒 |
| 案件列表（100 筆）| < 1 秒 |
| 搜尋回應 | < 500ms |
| 新增檔案 | < 1 秒 |
| 上傳文件 | 視檔案大小 |

---

## 🎯 下一步

體驗完成後，您可以：

1. **深入了解技術細節**
   - [ARCHITECTURE.md](ARCHITECTURE.md) - 系統架構
   - [API.md](API.md) - API 文件
   - [BRANDING_ARCHITECTURE.md](BRANDING_ARCHITECTURE.md) - 品牌架構

2. **參與開發**
   - 查看 GitHub Issues
   - 提交 Feature Request
   - 貢獻程式碼

3. **部署到生產環境**
   - 參考 [DEPLOYMENT.md](DEPLOYMENT.md)
   - 設定正式資料庫
   - 配置 SSL 憑證

---

## 📞 支援與回饋

遇到問題或有建議？

- 📧 Email: support@looper-hq.com
- 🐛 GitHub Issues: [提交問題](https://github.com/JonazWong/HK-Legal-Case-Agency/issues)
- 💬 討論區: [GitHub Discussions](https://github.com/JonazWong/HK-Legal-Case-Agency/discussions)

---

**祝您體驗愉快！** 🎉

*Powered by: **Looper HQ** → **Nexus Platform** → **Legal Case Agency***
